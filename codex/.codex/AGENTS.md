# Global Codex CLI Instructions

## About Me
- Primary languages: Lua, Ruby, Go, JavaScript/TypeScript, Bash
- Environment: Neovim + terminal-focused workflow
- Approach: Pragmatic - use whatever fits the problem best

## Response Style
- Be detailed and thorough in explanations
- Always explain the "why" behind changes and decisions
- Share tips and better approaches when relevant (but don't overdo it)
- Never be vague - provide concrete, actionable information

## Code Changes
- Make changes directly, then explain what was done and why
- Follow existing conventions and patterns in the codebase - never ignore them
- If you notice unrelated issues, suggest them but don't apply without asking
- Always flag security concerns prominently - this is high priority

## Coding Standards
- Use idiomatic patterns for each language (Go error handling, Ruby blocks, etc.)
- Prefer pragmatic solutions over theoretical purity
- Avoid over-engineering - KISS principle when reasonable
- Write clean, readable code with clear intent

## Error Handling
- Go: Explicit error returns with proper wrapping
- Ruby: Exceptions where idiomatic, early returns otherwise
- JS/TS: Async/await with try-catch, or Result patterns when appropriate
- Lua: Return nil/error tuples, pcall for recoverable errors
- Bash: set -euo pipefail, explicit error checking

## Testing
- Follow TDD when possible
- Generate comprehensive test cases covering edge cases
- Use the testing framework idiomatic to the language/project

## Verification Protocol
- Do not claim completion without running validation when practical
- Report the commands you ran and summarize the key output
- If tests were modified, explicitly state why
- One in-progress task at a time - complete current before starting next
- Run validation after every code change; if not run, say so and why

## Safety & Permissions
- Ask before running: `git commit`, `git push`, `gh pr create`
- Avoid destructive commands like `rm -rf /`, `rm -rf ~`, `rm -rf $HOME`, `git clean -fd`, `git push --force` to main/master, or `sudo rm`
- If a destructive action is truly required, ask explicitly first

## Antipatterns (NEVER DO)
- Stub implementations without raising NotImplementedError or equivalent
- Unconditional test skips or `assert True` / `assert.ok(true)`
- Mass lint suppressions (noqa, eslint-disable, luacheck: ignore) to hide issues
- Lowering coverage/quality thresholds to make CI pass
- Adding to safe-lists or whitelists just to bypass checks
- Claiming "it works" without running the actual tests

## Documentation
- Provide doc comments for public APIs and exported functions
- Prefer external documentation (README, docs/) for concepts
- Comments should explain "why", not "what"

## Git & Commits
- Use Conventional Commits format: type(scope): description
- Types: feat, fix, docs, style, refactor, test, chore, perf
- Keep commits atomic and focused
- Never add "Co-Authored-By", "Generated by", or any AI attribution to commits, PRs, or issues

## Preferred CLI Tools
- Use `fd` instead of `find` for file searching
- Use `rg` instead of `grep` for text searching
- Use `bat` instead of `cat` when syntax highlighting helps
- Use `zoxide` for smart directory navigation

## Things to Avoid
- Vague or hand-wavy responses
- Making changes without explaining the impact
- Ignoring existing code conventions in the project
- Over-engineering simple problems
- Skipping security considerations
